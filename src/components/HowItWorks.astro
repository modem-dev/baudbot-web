---
const steps = [
  {
    number: "01",
    title: "Deploy Baudbot",
    description: "Spin up Baudbot on your server or run it locally with Docker. One install script handles everything.",
    icon: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008V17.25zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008V17.25zm0-6h.008v.008h-.008v-.008z"/></svg>`
  },
  {
    number: "02",
    title: "Connect Your Tools",
    description: "Link Slack, Sentry, GitHub, and email. Baudbot integrates with your existing workflow — no new dashboards to learn.",
    icon: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m9.86-6.813a4.5 4.5 0 00-6.364-6.364L4.81 7.61a4.5 4.5 0 001.242 7.244" /></svg>`
  },
  {
    number: "03",
    title: "Baudbot Handles the Rest",
    description: "It monitors for alerts, investigates issues, writes fixes, opens PRs, and iterates until CI is green — 24/7.",
    icon: `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z"/></svg>`
  }
];
---

<section id="how-it-works" class="relative py-32">
  <!-- Section border -->
  <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-border-subtle to-transparent"></div>

  <div class="mx-auto max-w-6xl px-6">
    <!-- Section header -->
    <div class="mb-16">
      <div class="flex items-center gap-3 mb-4">
        <span class="text-accent font-mono font-bold text-lg">⟩</span>
        <span class="text-sm font-semibold text-accent uppercase tracking-widest">Workflow</span>
      </div>
      <h2 class="text-4xl sm:text-5xl font-bold tracking-tight mb-4">
        How It Works
      </h2>
      <p class="text-lg text-text-secondary max-w-2xl">
        Three steps to fully autonomous DevOps. No babysitting required.
      </p>
    </div>

    <!-- Steps -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {steps.map((step, index) => (
        <div class="relative">
          {/* Connector line (hidden on mobile, shown between cards on desktop) */}
          {index < steps.length - 1 && (
            <div class="hidden md:block absolute top-12 left-full w-full h-px bg-gradient-to-r from-accent/30 to-transparent -translate-x-8 z-0"></div>
          )}

          <div class="relative rounded-2xl border border-border-subtle bg-bg-card p-8 h-full">
            <!-- Step number -->
            <div class="flex items-center gap-4 mb-6">
              <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-accent/10 text-accent border border-accent/20">
                <Fragment set:html={step.icon} />
              </div>
              <span class="text-sm font-mono font-bold text-accent">{step.number}</span>
            </div>

            <h3 class="text-xl font-bold mb-3 text-text-primary">
              {step.title}
            </h3>
            <p class="text-sm text-text-secondary leading-relaxed">
              {step.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
